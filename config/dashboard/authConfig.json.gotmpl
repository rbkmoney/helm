{{ $domainWithNamespace := printf "%s.%s" .Release.Namespace .Values.services.ingress.rootDomain }}
{{ $domainWithoutNamespace := printf "%s" .Values.services.ingress.rootDomain }}
{{ $ingressDomain := .Values.services.ingress.insertNamespaceBeforeRootDomain | ternary $domainWithNamespace $domainWithoutNamespace }}
{
    "realm": "external",
    "auth-server-url": "https://auth.{{ $ingressDomain | default "rbk.dev" }}/auth/",
    "ssl-required": "external",
    "resource": "koffing",
    "public-client": true
}
