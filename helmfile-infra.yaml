repositories:
- name: prometheus-community
  url: https://prometheus-community.github.io/helm-charts

templates:
  default: &default
    chart: ./services/{{`{{ .Release.Name }}`}}
    namespace: default
    # This prevents helmfile exiting when it encounters a missing file
    # Valid values are "Error", "Warn", "Info", "Debug". The default is "Error"
    # Use "Debug" to make missing files errors invisible at the default log level(--log-level=INFO)
    missingFileHandler: Warn
    values:
    - config/{{`{{ .Release.Name }}`}}/values.yaml

releases:
- name: prometheus
  <<: *default
  chart: prometheus-community/kube-prometheus-stack
  namespace: monitoring
- name: logs
  <<: *default
  chart: ./services/elk

